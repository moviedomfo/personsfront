import{r as n,u as R,j as t,T as l,B as f,A as U,H as v,S as b}from"./index-BpYLM7dw.js";var i=(e=>(e.PARAMETER_REQUIRED="100",e.AUTH_REFRESH_TOKEN_REQUIRED="200",e.AUTH_REFRESH_TOKEN_EXPIRED="201",e.AUTH_JWT_TOKEN_REQUIRED="202",e.AUTH_JWT_TOKEN_EXPIRED="203",e.LOGIN_USER_2FA_FAIL="1910",e.LOGIN_USER_2FA_CodeRequested="1911",e.SEQUALIZE_TIMEOUT="5000",e.SEQUALIZE_ELOGIN="5001",e.SEQUALIZE_DATA="5002",e.KAFKA_TIMEOUT="5100",e.KAFKA_TOPIC_NOT_EXIST="5101",e.MONGO_TIMEOUT="5200",e.REDIS="5300",e.REDIS_NOAUTH="5301",e))(i||{});const j=()=>{const[e,h]=n.useState(""),[d,m]=n.useState(""),[r,x]=n.useState(null),[c,g]=n.useState(!1),[u,p]=n.useState(""),_=R(),A=()=>{const s=new b;s.Auth(e,d).then(a=>{const o=a;v.setCurrenLoging(o),_("/dashboard")}).catch(a=>{const o=a;o.code===i.LOGIN_USER_2FA_CodeRequested&&(alert("Se requiere codigo de verificacion doble factor"),_("/userSetting")),o.code===i.LOGIN_USER_2FA_FAIL?(alert("Se requiere codigo de renovar doble factor"),g(!0)):(x(o),s.Logout())})},S=s=>{h(s)},N=s=>{m(s)},T=()=>{new b().Set2FA(e,u).then(a=>{a?(alert("Codigo enviado correctamente"),g(!1)):alert("El codigo ingresado es incorrecto")}).catch(a=>{x(a)})},I=s=>{p(s)};return t.jsxs("div",{className:"md:mx-6 md:p-12",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("img",{className:"mx-auto w-48",src:"https://tecdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/lotus.webp",alt:"logo"}),t.jsx("h4",{className:"mb-12 mt-1 pb-1 text-xl font-semibold",children:"Olecram dev"})]}),t.jsxs("form",{children:[t.jsx(l,{type:"text",disable:c,id:"inputUserName",text:e,label:"Nombre usuario",onChange:S,placeholder:"username"}),t.jsx(l,{disable:c,type:"password",id:"inputPassword",text:d,label:"Passwpord",onChange:N,placeholder:"******"}),t.jsx("div",{className:"mt-3  text-center",children:t.jsx(f,{disable:c,onClick:A,children:"Log in"})}),c===!0&&t.jsxs("div",{className:"flex flex-col items-start  mb-1",children:[t.jsx(l,{type:"text",id:"inputCode",text:u,label:"Codigo",onChange:I,placeholder:""}),t.jsx("p",{className:"mb-2 font-mono text-center text-gray-500 ",children:"Ingrese el codigo 2FA"}),t.jsx("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:T,children:"Enviar codigo"})]}),t.jsx("div",{className:"mb-1 mt-1 p-1 text-center",children:r&&t.jsx(U,{preText:"",text:r.message})})]})]})};export{j as default};
